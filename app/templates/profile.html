{% extends "colors/purple.html" %}

{% block title %}
My Profile
{% endblock %}

{% block header %}
My Profile
{% endblock %}

{% block content %}
<div id="content-area">
    <p>Loading...</p>
</div>
{% endblock %}

{% block scripts %}
<script>
document.addEventListener('DOMContentLoaded', function () {
    fetch('/auth/check-token')
        .then(response => response.json())
        .then(data => {
            const contentArea = document.getElementById('content-area');
            if (data.valid) {
                contentArea.innerHTML = `
                    <div class="prose prose-lg max-w-none">
                        <p>Welcome to our platform where you can test your biological age using a variety of blood tests. Our service allows you to gain insights into your health and longevity through detailed analysis and comparison with scientific standards.</p>
                    </div>
                `;
            } else {
                contentArea.innerHTML = `
                    <p>You are not logged in. Please <a href="/login">login</a> to view this content.</p>
                `;
            }
        })
        .catch(error => {
            console.error('Error fetching auth data:', error);
            document.getElementById('content-area').innerHTML = `<p>Error loading content. Please try again later.</p>`;
        });
});

</script>
{% endblock %}
